<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>shopThat â€” Products</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css?v=1">
    <link rel="stylesheet" href="styles/dashboard.css?v=1">
  </head>
  <body class="app app--products">
    <aside class="sidebar" aria-label="Primary">
      <div class="sidebar__brand">
        <span>shopThat</span>
      </div>
      <div class="sidebar__campaign-btn">
        <a href="/campaigns.html" class="btn btn--primary btn--campaign">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"/>
            <path d="M12 8v8M8 12h8"/>
          </svg>
          New Campaign
        </a>
      </div>
      <nav class="sidebar__nav">
        <a href="/dashboard.html">Dashboard</a>
        <a href="/keywords.html">Keywords</a>
        <a href="/internals.html">Internals</a>
        <a href="/publishers.html">Publishers</a>
        <a href="/open-source.html" aria-disabled="true">Open source</a>
        <a class="is-active" href="/products.html">Products</a>
        <a href="/financials.html">Financials</a>
        <a href="/settings.html" aria-disabled="true">Settings</a>
        <a href="#" id="signOutLink">Sign Out</a>
      </nav>
    </aside>

    <header class="appbar" role="banner">
      <div class="appbar__inner">
        <h1 class="appbar__title">Products</h1>
        <div class="appbar__search">
          <input type="search" placeholder="Search here..." aria-label="Search" />
        </div>
        <div class="appbar__account">
          <span class="locale">Eng (US)</span>
          <button class="icon-btn" aria-label="Notifications" title="Notifications">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <path d="M18 8a6 6 0 10-12 0c0 7-3 9-3 9h18s-3-2-3-9"/>
              <path d="M13.73 21a2 2 0 01-3.46 0"/>
            </svg>
          </button>
          <button class="icon-btn" id="darkModeToggle" aria-label="Toggle dark mode" title="Toggle dark mode">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <circle cx="12" cy="12" r="5"/>
              <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
            </svg>
          </button>
          <div class="avatar" role="img" aria-label="Person, Admin"></div>
        </div>
      </div>
    </header>

    <main id="main" class="dashboard" role="main">
      <!-- Products Table -->
      <section class="ecommerce-products-section">
        <div class="card">
          <div class="table-wrap">
            <table class="data-table ecommerce-table">
              <thead>
                <tr>
                  <th>Product</th>
                  <th>Sales Volume</th>
                  <th>Conversion Rate</th>
                  <th>AOV</th>
                  <th>ROI</th>
                  <th>Revenue</th>
                </tr>
              </thead>
              <tbody>
                <tr data-product="lv-yk-mini-pochette">
                  <td class="product-name">LV X YK Mini Pochette Accessoires</td>
                  <td class="metric-value">1,247</td>
                  <td class="metric-value">8.4%</td>
                  <td class="metric-value">$2,890</td>
                  <td class="metric-value">245%</td>
                  <td class="metric-value">$3,600,000</td>
                </tr>
                <tr data-product="lv-yk-christopher-mm">
                  <td class="product-name">LV X YK Christopher MM</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                </tr>
                <tr data-product="lv-yk-capucines-bb">
                  <td class="product-name">LV X YK Capucines BB</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                </tr>
                <tr data-product="lv-yk-pochette-voyage">
                  <td class="product-name">LV X YK Pochette Voyage</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                </tr>
                <tr data-product="lv-yk-capucines">
                  <td class="product-name">LV X YK Capucines</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                </tr>
                <tr data-product="kusama-book">
                  <td class="product-name">Kusama Louis Vuitton Book</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                </tr>
                <tr data-product="lv-yk-archlight">
                  <td class="product-name">LV X YK Archlight Sneaker</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                </tr>
                <tr data-product="lv-yk-infinity-dot">
                  <td class="product-name">LV X YK Infinity Dot Square</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                  <td class="metric-value">N/A</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>
    </main>

    <!-- Product Side Panel -->
    <div class="product-panel-overlay" id="productPanelOverlay"></div>
    <div class="product-side-panel" id="productSidePanel">
      <div class="product-panel-header">
        <h2 class="product-panel-title" id="productPanelTitle">Product Details</h2>
        <button class="product-panel-close" id="productPanelClose">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
      </div>
      <div class="product-panel-content" id="productPanelContent">
        <!-- Content will be populated by JavaScript -->
      </div>
    </div>
    
    <script src="scripts/shared-data.js"></script>
    <script src="scripts/dashboard.js" defer></script>
    <script>
      // Product data for side panel
      const productData = {
        'lv-yk-mini-pochette': {
          name: 'LV X YK Mini Pochette Accessoires',
          description: 'The Mini Pochette Accessoires in Monogram canvas with Yayoi Kusama\'s iconic dots brings a playful twist to this essential piece.',
          price: '$2,890',
          category: 'Handbags',
          collection: 'Louis Vuitton x Yayoi Kusama',
          salesVolume: 1247,
          conversionRate: 8.4,
          aov: 2890,
          roi: 245,
          revenue: 3600000
        },
        'lv-yk-christopher-mm': {
          name: 'LV X YK Christopher MM',
          description: 'The Christopher MM backpack features the House\'s signature Monogram canvas with Kusama\'s psychedelic dots in a contemporary design.',
          price: '$3,200',
          category: 'Bags',
          collection: 'Louis Vuitton x Yayoi Kusama',
          salesVolume: 892,
          conversionRate: 6.2,
          aov: 3200,
          roi: 198,
          revenue: 2854400
        },
        'lv-yk-capucines-bb': {
          name: 'LV X YK Capucines BB',
          description: 'The Capucines BB handbag in supple Monogram Puffy Lambskin with Kusama\'s signature infinity dots.',
          price: '$4,100',
          category: 'Handbags',
          collection: 'Louis Vuitton x Yayoi Kusama',
          salesVolume: 756,
          conversionRate: 9.1,
          aov: 4100,
          roi: 312,
          revenue: 3099600
        },
        'lv-yk-pochette-voyage': {
          name: 'LV X YK Pochette Voyage',
          description: 'The Pochette Voyage in Monogram canvas features Kusama\'s vibrant dots for the modern traveler.',
          price: '$2,650',
          category: 'Travel Bags',
          collection: 'Louis Vuitton x Yayoi Kusama',
          salesVolume: 634,
          conversionRate: 7.8,
          aov: 2650,
          roi: 189,
          revenue: 1680100
        },
        'lv-yk-capucines': {
          name: 'LV X YK Capucines',
          description: 'The iconic Capucines handbag reimagined with Kusama\'s psychedelic infinity nets in premium leather.',
          price: '$4,800',
          category: 'Handbags',
          collection: 'Louis Vuitton x Yayoi Kusama',
          salesVolume: 523,
          conversionRate: 5.9,
          aov: 4800,
          roi: 278,
          revenue: 2510400
        },
        'kusama-book': {
          name: 'Kusama Louis Vuitton Book',
          description: 'Limited edition art book documenting the collaboration between Yayoi Kusama and Louis Vuitton.',
          price: '$125',
          category: 'Books & Collectibles',
          collection: 'Louis Vuitton x Yayoi Kusama',
          salesVolume: 445,
          conversionRate: 12.3,
          aov: 125,
          roi: 425,
          revenue: 55625
        },
        'lv-yk-archlight': {
          name: 'LV X YK Archlight Sneaker',
          description: 'The futuristic Archlight sneaker featuring Kusama\'s signature dots on technical mesh and leather.',
          price: '$1,350',
          category: 'Shoes',
          collection: 'Louis Vuitton x Yayoi Kusama',
          salesVolume: 389,
          conversionRate: 4.7,
          aov: 1350,
          roi: 156,
          revenue: 525150
        },
        'lv-yk-infinity-dot': {
          name: 'LV X YK Infinity Dot Square',
          description: 'Silk square scarf featuring Kusama\'s mesmerizing infinity dots pattern in vibrant colors.',
          price: '$890',
          category: 'Accessories',
          collection: 'Louis Vuitton x Yayoi Kusama',
          salesVolume: 298,
          conversionRate: 6.8,
          aov: 890,
          roi: 203,
          revenue: 265220
        }
      };

      // Dark mode functionality
      function initDarkMode() {
        const darkModeToggle = document.getElementById('darkModeToggle');
        const body = document.body;
        
        // Check for saved dark mode preference
        const isDarkMode = localStorage.getItem('darkMode') === 'true';
        if (isDarkMode) {
          body.classList.add('dark-mode');
        }
        
        // Toggle dark mode
        if (darkModeToggle) {
          darkModeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            const isNowDark = body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isNowDark);
          });
        }
      }

      // Product side panel functionality
      function initProductPanel() {
        const panel = document.getElementById('productSidePanel');
        const overlay = document.getElementById('productPanelOverlay');
        const closeBtn = document.getElementById('productPanelClose');
        const panelTitle = document.getElementById('productPanelTitle');
        const panelContent = document.getElementById('productPanelContent');
        const tableRows = document.querySelectorAll('.ecommerce-table tbody tr');

        function openPanel(productId) {
          const product = productData[productId];
          if (!product) {
            // Fallback for products without detailed data
            const row = document.querySelector(`tr[data-product="${productId}"]`);
            if (!row) return;
            
            const productName = row.querySelector('.product-name').textContent;
            const salesVolume = row.children[1].textContent;
            const conversionRate = row.children[2].textContent;
            const aov = row.children[3].textContent;
            const roi = row.children[4].textContent;
            const revenue = row.children[5].textContent;
            
            panelTitle.textContent = productName;
            panelContent.innerHTML = `
              <div class="product-detail-section">
                <h3>Overview</h3>
                <p style="color: #6b7280; line-height: 1.6; margin: 0;">Premium product from the Louis Vuitton x Yayoi Kusama collaboration featuring the artist's signature aesthetic.</p>
              </div>
              
              <div class="product-detail-section">
                <h3>Performance Metrics</h3>
                <div class="product-metrics-grid">
                  <div class="product-metric-item">
                    <div class="product-metric-label">Sales Volume</div>
                    <div class="product-metric-value">${salesVolume}</div>
                  </div>
                  <div class="product-metric-item">
                    <div class="product-metric-label">Conversion</div>
                    <div class="product-metric-value conversion">${conversionRate}</div>
                  </div>
                  <div class="product-metric-item">
                    <div class="product-metric-label">AOV</div>
                    <div class="product-metric-value aov">${aov}</div>
                  </div>
                  <div class="product-metric-item">
                    <div class="product-metric-label">ROI</div>
                    <div class="product-metric-value roi">${roi}</div>
                  </div>
                  <div class="product-metric-item">
                    <div class="product-metric-label">Revenue</div>
                    <div class="product-metric-value revenue">${revenue}</div>
                  </div>
                </div>
              </div>
              
              <div class="product-detail-section">
                <h3>Product Information</h3>
                <div style="display: grid; gap: 12px;">
                  <div style="display: flex; justify-content: space-between;">
                    <span style="color: #6b7280;">Collection:</span>
                    <span style="font-weight: 600;">Louis Vuitton x Yayoi Kusama</span>
                  </div>
                  <div style="display: flex; justify-content: space-between;">
                    <span style="color: #6b7280;">Category:</span>
                    <span style="font-weight: 600;">Luxury Goods</span>
                  </div>
                </div>
              </div>
            `;
            
            panel.classList.add('active');
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden';
            return;
          }

          panelTitle.textContent = product.name;
          panelContent.innerHTML = `
            <div class="product-detail-section">
              <h3>Overview</h3>
              <p style="color: #6b7280; line-height: 1.6; margin: 0;">${product.description}</p>
            </div>
            
            <div class="product-detail-section">
              <h3>Performance Metrics</h3>
              <div class="product-metrics-grid">
                <div class="product-metric-item">
                  <div class="product-metric-label">Sales Volume</div>
                  <div class="product-metric-value">${product.salesVolume.toLocaleString()}</div>
                </div>
                <div class="product-metric-item">
                  <div class="product-metric-label">Conversion</div>
                  <div class="product-metric-value conversion">${product.conversionRate}%</div>
                </div>
                <div class="product-metric-item">
                  <div class="product-metric-label">AOV</div>
                  <div class="product-metric-value aov">$${product.aov.toLocaleString()}</div>
                </div>
                <div class="product-metric-item">
                  <div class="product-metric-label">ROI</div>
                  <div class="product-metric-value roi">${product.roi}%</div>
                </div>
                <div class="product-metric-item">
                  <div class="product-metric-label">Revenue</div>
                  <div class="product-metric-value revenue">$${product.revenue.toLocaleString()}</div>
                </div>
              </div>
            </div>
            
            <div class="product-detail-section">
              <h3>Product Information</h3>
              <div style="display: grid; gap: 12px;">
                <div style="display: flex; justify-content: space-between;">
                  <span style="color: #6b7280;">Price:</span>
                  <span style="font-weight: 600;">${product.price}</span>
                </div>
                <div style="display: flex; justify-content: space-between;">
                  <span style="color: #6b7280;">Category:</span>
                  <span style="font-weight: 600;">${product.category}</span>
                </div>
                <div style="display: flex; justify-content: space-between;">
                  <span style="color: #6b7280;">Collection:</span>
                  <span style="font-weight: 600;">${product.collection}</span>
                </div>
              </div>
            </div>
          `;

          panel.classList.add('active');
          overlay.classList.add('active');
          document.body.style.overflow = 'hidden';
        }

        function closePanel() {
          panel.classList.remove('active');
          overlay.classList.remove('active');
          document.body.style.overflow = '';
        }

        // Add click handlers to table rows
        tableRows.forEach(row => {
          row.addEventListener('click', () => {
            const productId = row.dataset.product;
            if (productId) {
              openPanel(productId);
            }
          });
        });

        // Close panel handlers
        closeBtn.addEventListener('click', closePanel);
        overlay.addEventListener('click', closePanel);

        // Close on Escape key
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape' && panel.classList.contains('active')) {
            closePanel();
          }
        });
      }
      
      // Initialize when DOM is ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => {
          initDarkMode();
          initProductPanel();
        });
      } else {
        initDarkMode();
        initProductPanel();
      }
    </script>
    <script src="scripts/auth.js"></script>
  </body>
</html>
