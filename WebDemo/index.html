<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Core Values Campaign — WebDemo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap" rel="stylesheet">
.    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <link rel="stylesheet" href="styles/main.css?v=1">
  </head>
  <body>
    <a href="#main" class="skip-link">Skip to content</a>
    <header class="lv-header" role="banner">
      <div class="lv-header__inner">
        <div class="lv-left">
          <button class="lv-burger" aria-label="Open menu" aria-expanded="false" aria-controls="nav"><span></span></button>
          <span class="lv-menu-label">Menu</span>
          <a class="lv-search-link" href="#" aria-label="Search">
            <span class="lv-search-icon" aria-hidden="true"></span>
            <span>Search</span>
          </a>
        </div>
        <a class="lv-logo" href="#" aria-label="Louis Vuitton Home">
          <img src="assets/logo.svg" alt="Louis Vuitton" />
        </a>
        <div class="lv-right">
          <a class="lv-contact" href="#">Contact Us</a>
          <a class="lv-ico lv-ico--heart" href="#" aria-label="Wishlist">
            <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M12 21s-6.5-4.2-9-7.7C1.3 11.1 2 7.8 5 6.6c2.1-.9 4.1.2 5 1.6 1-1.4 2.9-2.5 5-1.6 3 1.2 3.7 4.5 2 6.7-2.5 3.5-9 7.7-9 7.7z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
          <a class="lv-ico lv-ico--user" href="#" aria-label="Account">
            <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
              <circle cx="12" cy="8" r="3.5" fill="none" stroke="currentColor" stroke-width="2"/>
              <path d="M4 19c1.8-3 5-5 8-5s6.2 2 8 5" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
          </a>
          <a class="lv-ico lv-ico--bag" href="#" aria-label="Shopping bag">
            <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M6 9h12l-1 10H7L6 9z" fill="none" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
              <path d="M9 9V7a3 3 0 0 1 6 0v2" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <span class="lv-badge" aria-hidden="true">0</span>
          </a>
        </div>
      </div>
    </header>

    <main id="main" class="lv-main" role="main">
      <!-- Hero Section with video placeholder -->
      <section class="hero" aria-label="Core Values Campaign Hero">
        <div class="hero__media">
          <video class="hero__video" autoplay muted playsinline aria-label="Campaign reel" id="hero-video">
            <source src="assets/kusama.mp4" type="video/mp4">
            <source src="assets/kusama.mov" type="video/quicktime">
          </video>
          <div class="hero__fallback" aria-hidden="true"></div>
        </div>
        <div class="hero__content">
          <div class="hero__content-inner">
          </div>
        </div>
        
        <!-- Chatbot Component -->
        <div class="chatbot" id="chatbot">
          <div class="chatbot__messages" id="chatbot-messages">
            <!-- Messages will be dynamically added here -->
          </div>
          <div class="chatbot__keywords" id="chatbot-keywords">
            <!-- Keyword bubbles will be dynamically added here -->
          </div>
        </div>
      </section>

      <!-- Interlude text block on white background -->
      <section class="interlude" aria-label="Intro copy">
        <div class="interlude__inner">
          <p class="interlude__text">
            Discover the Louis Vuitton x Yayoi Kusama campaign—playful, graphic, and unmistakably modern. Polka‑dot motifs reimagine iconic silhouettes and leather finishes, celebrating craftsmanship and joyful expression through bold color, texture, and form.
          </p>
        </div>
      </section>

      <!-- Product Gallery with Tabs -->
      <section class="product-gallery" aria-label="Product Gallery">
        <!-- Tab Navigation -->
        <div class="gallery-tabs" id="gallery-tabs">
          <div class="gallery-tabs__inner">
            <button class="gallery-tab active" data-tab="women">Women</button>
            <button class="gallery-tab" data-tab="men">Men</button>
          </div>
        </div>

        <!-- Category Navigation -->
        <nav class="category-nav" id="category-nav">
          <div class="category-nav__inner">
            <a href="#" class="category-link active">Looks</a>
            <a href="#" class="category-link">Leather Goods</a>
            <a href="#" class="category-link">Small Leather Goods</a>
            <a href="#" class="category-link">Ready to Wear</a>
            <a href="#" class="category-link">Shoes</a>
            <a href="#" class="category-link">Accessories</a>
            <a href="#" class="category-link">Fragrances</a>
            <a href="#" class="category-link">Art of Living</a>
          </div>
        </nav>

        <!-- Product Grid -->
        <div class="product-grid">
          <article class="product-card">
            <a href="#" class="product-card__link">
              <div class="product-card__image">
                <img src="assets/kusama3.png" alt="LV X YK KEEPALL 25" loading="lazy" />
                <button class="product-card__wishlist" aria-label="Add to wishlist">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24" height="24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
                  </svg>
                </button>
              </div>
              <div class="product-card__info">
                <h3 class="product-card__title">LV X YK KEEPALL 25</h3>
                <p class="product-card__price">$2,980.00</p>
              </div>
            </a>
          </article>

          <article class="product-card">
            <a href="#" class="product-card__link">
              <div class="product-card__image">
                <img src="assets/kusama3.png" alt="LV X YK SAC PLAT" loading="lazy" />
                <button class="product-card__wishlist" aria-label="Add to wishlist">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24" height="24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
                  </svg>
                </button>
              </div>
              <div class="product-card__info">
                <h3 class="product-card__title">LV X YK SAC PLAT</h3>
                <p class="product-card__price">$3,800.00</p>
              </div>
            </a>
          </article>

          <article class="product-card">
            <a href="#" class="product-card__link">
              <div class="product-card__image">
                <img src="assets/kusama3.png" alt="LV X YK MINI SOFT TRUNK" loading="lazy" />
                <button class="product-card__wishlist" aria-label="Add to wishlist">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24" height="24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
                  </svg>
                </button>
              </div>
              <div class="product-card__info">
                <h3 class="product-card__title">LV X YK MINI SOFT TRUNK</h3>
                <p class="product-card__price">$4,000.00</p>
              </div>
            </a>
          </article>

          <article class="product-card">
            <a href="#" class="product-card__link">
              <div class="product-card__image">
                <img src="assets/kusama3.png" alt="LV X YK KEEPALL 55" loading="lazy" />
                <button class="product-card__wishlist" aria-label="Add to wishlist">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24" height="24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
                  </svg>
                </button>
              </div>
              <div class="product-card__info">
                <h3 class="product-card__title">LV X YK KEEPALL 55</h3>
                <p class="product-card__price">$3,650.00</p>
              </div>
            </a>
          </article>

          <article class="product-card">
            <a href="#" class="product-card__link">
              <div class="product-card__image">
                <img src="assets/kusama3.png" alt="LV X YK Collection Item" loading="lazy" />
                <button class="product-card__wishlist" aria-label="Add to wishlist">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24" height="24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
                  </svg>
                </button>
              </div>
              <div class="product-card__info">
                <h3 class="product-card__title">LV X YK BAG</h3>
                <p class="product-card__price">$2,750.00</p>
              </div>
            </a>
          </article>

          <article class="product-card">
            <a href="#" class="product-card__link">
              <div class="product-card__image">
                <img src="assets/kusama3.png" alt="LV X YK Collection Item" loading="lazy" />
                <button class="product-card__wishlist" aria-label="Add to wishlist">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24" height="24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
                  </svg>
                </button>
              </div>
              <div class="product-card__info">
                <h3 class="product-card__title">LV X YK TRUNK</h3>
                <p class="product-card__price">$4,200.00</p>
              </div>
            </a>
          </article>

          <article class="product-card">
            <a href="#" class="product-card__link">
              <div class="product-card__image">
                <img src="assets/kusama3.png" alt="LV X YK Collection Item" loading="lazy" />
                <button class="product-card__wishlist" aria-label="Add to wishlist">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24" height="24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
                  </svg>
                </button>
              </div>
              <div class="product-card__info">
                <h3 class="product-card__title">LV X YK POUCH</h3>
                <p class="product-card__price">$1,890.00</p>
              </div>
            </a>
          </article>

          <article class="product-card">
            <a href="#" class="product-card__link">
              <div class="product-card__image">
                <img src="assets/kusama3.png" alt="LV X YK Collection Item" loading="lazy" />
                <button class="product-card__wishlist" aria-label="Add to wishlist">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" width="24" height="24">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
                  </svg>
                </button>
              </div>
              <div class="product-card__info">
                <h3 class="product-card__title">LV X YK BACKPACK</h3>
                <p class="product-card__price">$3,950.00</p>
              </div>
            </a>
          </article>
        </div>
      </section>

    </main>

    <footer class="lv-footer" role="contentinfo">
      <div class="lv-footer__inner">
        <nav aria-label="Footer">
          <ul>
            <li><a href="#">Privacy</a></li>
            <li><a href="#">Terms</a></li>
            <li><a href="#">Contact</a></li>
          </ul>
        </nav>
        <p class="copyright">shopThat demo</p>
      </div>
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    <script src="scripts/shared-data.js"></script>
    <script src="scripts/main.js" defer></script>
    <script>
      // Chatbot Conversation Flow
      const chatbotConversations = {
        initial: {
          keywords: ['Kusama x LV', 'Kusama', 'Stores', 'Capucine Bag']
        },
        'kusama-x-lv': {
          message: 'Experience the extraordinary collaboration between Yayoi Kusama and Louis Vuitton. This groundbreaking partnership brings together contemporary art and luxury craftsmanship in an unprecedented way.',
          keywords: ['Campaign Content', 'Campaign Products']
        },
        'campaign-content': {
          action: 'navigate-kusama-homepage',
          notification: 'Drag and drop images into the gallery to explore the collection'
        },
        'campaign-products': {
          keywords: ['Infinity Dots', 'Painted Dots', 'Psychedelic Flower']
        },
        'psychedelic-flower': {
          message: 'The Psychedelic Flower collection features vibrant, organic patterns inspired by Kusama\'s iconic floral motifs. Each piece celebrates nature through bold color and imaginative design.',
          products: [
            { name: 'Psychedelic Flower Keepall', price: '$3,400', image: 'assets/kusama3.png' },
            { name: 'Psychedelic Flower Pochette', price: '$2,100', image: 'assets/kusama3.png' },
            { name: 'Psychedelic Flower Wallet', price: '$890', image: 'assets/kusama3.png' }
          ]
        },
        'kusama': {
          message: 'Yayoi Kusama is a renowned Japanese contemporary artist known for her immersive installations and signature polka dot patterns. Her work explores themes of infinity, self-obliteration, and the cosmos.',
          keywords: ['Kusama Art', 'Kusama LV Campaign Content']
        },
        'kusama-art': {
          action: 'navigate-kusama-homepage',
          notification: 'Drag and drop images into the gallery to explore Kusama\'s artistic world'
        },
        'stores': {
          message: 'Visit our Louis Vuitton stores to experience the Kusama collaboration in person.',
          storeButtons: [
            { name: '57th Street', location: 'New York' },
            { name: 'SoHo', location: 'New York' }
          ],
          keywords: ['Store', 'Restaurants', 'Museums Galleries']
        },
        'capucine-bag': {
          message: 'The Capucines bag, named after the Rue des Capucines where Louis Vuitton opened his first store in 1854, is a testament to exceptional savoir-faire. The Kusama edition reimagines this iconic silhouette with her distinctive artistic vision.',
          products: [
            { name: 'Capucines MM Infinity Dots', price: '$6,400', image: 'assets/kusama3.png' },
            { name: 'Capucines PM Painted Dots', price: '$5,900', image: 'assets/kusama3.png' },
            { name: 'Capucines Mini Psychedelic Flower', price: '$4,800', image: 'assets/kusama3.png' }
          ]
        }
      };

      // Chatbot State
      let chatbotState = {
        currentFlow: 'initial',
        videoKeywordsShown: false
      };

      // Initialize Chatbot
      function initChatbot() {
        const video = document.getElementById('hero-video');
        const chatbot = document.getElementById('chatbot');
        const messagesContainer = document.getElementById('chatbot-messages');
        const keywordsContainer = document.getElementById('chatbot-keywords');

        // Video timeline keywords
        if (video) {
          video.addEventListener('timeupdate', () => {
            if (!chatbotState.videoKeywordsShown) {
              const currentTime = video.currentTime;
              
              // Show keywords progressively during video
              if (currentTime >= 2 && currentTime < 4) {
                showKeyword('Capucine Bag', true);
              } else if (currentTime >= 4 && currentTime < 6) {
                showKeyword('Kusama x LV', true);
              } else if (currentTime >= 6 && currentTime < 8) {
                showKeyword('Kusama', true);
              } else if (currentTime >= 8) {
                showKeyword('Store', true);
              }
            }
          });

          video.addEventListener('ended', () => {
            // Show all initial keywords after video ends
            chatbotState.videoKeywordsShown = true;
            showInitialKeywords();
          });
        }

        // If video doesn't autoplay or is not available, show initial keywords after delay
        setTimeout(() => {
          if (!chatbotState.videoKeywordsShown) {
            showInitialKeywords();
          }
        }, 3000);
      }

      // Show single keyword (during video)
      function showKeyword(keyword, isTemporary = false) {
        const keywordsContainer = document.getElementById('chatbot-keywords');
        
        if (!isTemporary) {
          keywordsContainer.innerHTML = '';
        }
        
        const bubble = document.createElement('button');
        bubble.className = 'chatbot__keyword animate-in';
        bubble.textContent = keyword;
        bubble.onclick = () => handleKeywordClick(keyword);
        
        keywordsContainer.appendChild(bubble);
        
        // Remove temporary keywords after a moment
        if (isTemporary) {
          setTimeout(() => {
            if (!chatbotState.videoKeywordsShown && keywordsContainer.contains(bubble)) {
              bubble.classList.add('fade-out');
              setTimeout(() => bubble.remove(), 300);
            }
          }, 1500);
        }
      }

      // Show initial keywords
      function showInitialKeywords() {
        const keywordsContainer = document.getElementById('chatbot-keywords');
        keywordsContainer.innerHTML = '';
        
        const initialKeywords = chatbotConversations.initial.keywords;
        initialKeywords.forEach((keyword, index) => {
          setTimeout(() => {
            const bubble = document.createElement('button');
            bubble.className = 'chatbot__keyword animate-in';
            bubble.textContent = keyword;
            bubble.onclick = () => handleKeywordClick(keyword);
            keywordsContainer.appendChild(bubble);
          }, index * 200);
        });
      }

      // Handle keyword click
      function handleKeywordClick(keyword) {
        const flowKey = keyword.toLowerCase().replace(/\s+/g, '-');
        const flow = chatbotConversations[flowKey];
        
        if (!flow) {
          console.warn('No flow found for:', flowKey);
          return;
        }

        // Add message if exists
        if (flow.message) {
          addMessage(flow.message);
        }

        // Handle special actions
        if (flow.action === 'navigate-kusama-homepage') {
          setTimeout(() => {
            showNotification(flow.notification);
          }, 500);
        }

        // Show store buttons if exists
        if (flow.storeButtons) {
          showStoreButtons(flow.storeButtons);
        }

        // Show products if exists
        if (flow.products) {
          showProducts(flow.products);
        }

        // Show next keywords if exists
        if (flow.keywords) {
          setTimeout(() => {
            showKeywords(flow.keywords);
          }, 500);
        }

        chatbotState.currentFlow = flowKey;
      }

      // Add message to chatbot
      function addMessage(message) {
        const messagesContainer = document.getElementById('chatbot-messages');
        const messageEl = document.createElement('div');
        messageEl.className = 'chatbot__message animate-in';
        messageEl.textContent = message;
        messagesContainer.appendChild(messageEl);
        
        // Scroll to show message
        setTimeout(() => {
          messageEl.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }, 100);
      }

      // Show notification
      function showNotification(text) {
        const messagesContainer = document.getElementById('chatbot-messages');
        const notificationEl = document.createElement('div');
        notificationEl.className = 'chatbot__notification animate-in';
        notificationEl.innerHTML = `
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <path d="M12 16v-4M12 8h.01"/>
          </svg>
          <span>${text}</span>
        `;
        messagesContainer.appendChild(notificationEl);
      }

      // Show keywords
      function showKeywords(keywords) {
        const keywordsContainer = document.getElementById('chatbot-keywords');
        keywordsContainer.innerHTML = '';
        
        keywords.forEach((keyword, index) => {
          setTimeout(() => {
            const bubble = document.createElement('button');
            bubble.className = 'chatbot__keyword animate-in';
            bubble.textContent = keyword;
            bubble.onclick = () => handleKeywordClick(keyword);
            keywordsContainer.appendChild(bubble);
          }, index * 150);
        });
      }

      // Show store buttons
      function showStoreButtons(stores) {
        const keywordsContainer = document.getElementById('chatbot-keywords');
        
        stores.forEach((store, index) => {
          setTimeout(() => {
            const button = document.createElement('button');
            button.className = 'chatbot__store-button animate-in';
            button.innerHTML = `
              <strong>${store.name}</strong>
              <span>${store.location}</span>
            `;
            button.onclick = () => {
              window.open(`https://www.google.com/maps/search/Louis+Vuitton+${encodeURIComponent(store.name)}+${encodeURIComponent(store.location)}`, '_blank');
            };
            keywordsContainer.appendChild(button);
          }, index * 150);
        });
      }

      // Show products
      function showProducts(products) {
        const messagesContainer = document.getElementById('chatbot-messages');
        const productsContainer = document.createElement('div');
        productsContainer.className = 'chatbot__products animate-in';
        
        products.forEach(product => {
          const productCard = document.createElement('div');
          productCard.className = 'chatbot__product-card';
          productCard.innerHTML = `
            <img src="${product.image}" alt="${product.name}" />
            <div class="chatbot__product-info">
              <h4>${product.name}</h4>
              <p>${product.price}</p>
              <button class="chatbot__product-btn">View Details</button>
            </div>
          `;
          productsContainer.appendChild(productCard);
        });
        
        messagesContainer.appendChild(productsContainer);
        
        setTimeout(() => {
          productsContainer.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }, 100);
      }

      // Dark mode functionality
      function initDarkMode() {
        const darkModeToggle = document.getElementById('darkModeToggle');
        const body = document.body;
        
        if (localStorage.getItem('darkMode') === 'true') {
          body.classList.add('dark-mode');
        }
        
        if (darkModeToggle) {
          darkModeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            localStorage.setItem('darkMode', body.classList.contains('dark-mode'));
          });
        }
      }
      
      // Initialize on DOM ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', () => {
          initDarkMode();
          initChatbot();
        });
      } else {
        initDarkMode();
        initChatbot();
      }
    </script>
  </body>
</html>
